<html>
<!-- Layout structure from: http://learnlayout.com/float-layout.html -->
<!-- This structure is inherited by all other pages. -->
<head>
    <title>RTL Image Search</title>
    <link rel="stylesheet"  href="{{url_for('static', filename='style.css')}}"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <!--<script type="text/javascript" src="{{url_for('static', filename='modal.js') }}"></script>-->
</head>

<div>
    <div class="js-off-canvas-overlay is-overlay-fixed"></div>
    <div class="off-canvas-content">
        <header id="js-header-container" class="rtlnieuws-header">
            <div class="header-nav">
                <div class="logo vertical-middle">
                    <img src="https://www.rtlnieuws.nl/themes/custom/rtlnieuws/images/logo-rtlnieuws.svg">

                </div>
            </div>
        </header>
        <br /><br /><br /><br />
        <section class="region--content-top"></section>
        <section class="region--content">
            <div id="search-app">
                <div class="search">
                    <form class="search-form row" method="POST" _lpchecked="1" style="padding: 20px 0;">
                        <!-- <label>{{results|length}} Resultaten voor {{query}}</label> -->
                        <input class="search-box" type="text" name="textfield" placeholder="Fill in your search terms..." value="{{query}}"> <br />
                        {% for category in weights %}
                            <div class="small-2 medium-2 large-2">
                                <b>{{ category }}</b><br />
                                {% for key in weights[category] %}
                                    <label for="{{category}}/{{key}}" style="font-size: 16px; font-weight: normal;">{{weights[category][key].nl}}</label>
                                    <input type="range" name="{{category}}/{{key}}" value="{{weights[category][key].weight}}" min="0" max="100" class="small-11 medium-11 large-11" onchange="this.form.submit()"><br />
                                {% endfor %}
                            </div>
                        {% endfor %}
                    </form>
                </div>
            </div>
            <div class="search-items">
                <div class="search-items__list">
                    <div class="search-results">
                        {% for row in results %}
                            <a class="search-item search-item--artikel" role="button" data-toggle="modal" data-target="#myOutput{{ row.id }}">
                                <div class="search-item__image">
                                    <img src="https://img.youtube.com/vi/{{row.id}}/default.jpg" alt="ALT_TEXT">
                                </div>
                                <div class="search-item__content">
                                    <h2 class="search-item__title" style="margin-top: 0px;">{{row.title}}</h2>
                                    <p class="search-item__description">{{row.description}}</p>
                                    {% for tag in row.tags %}
                                        <span class="search-item__label chapeau">{{tag}}</span>
                                    {% endfor %}
                                    <span class="search-item__date" style="float: right;">{{row.date}}</span>
                                </div>
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>
    </div>
{% for row in results %}
 <!-- Modal -->
  <div class="modal fade" id="myOutput{{ row.id }}" role="dialog">
    <div class="modal-dialog modal-lg">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">{{ row.title }}</h4>
        </div>
        <div class="modal-body">
            <div>
                <center></center>
            </div>
            <div>
                <table>
                    <tr>
                        <td colspan="2"><iframe width="400" height="250" src="{{ row.url }}"></iframe></td>
                        <td valign="top">{{ row.description }}</td>
                    </tr>
                    <tr><th colspan="3">Objects</th></tr>
                    <tr>
                        <td width="75">Imagenet:</td>
                        <td colspan="2">{{row.imagenet_str}}</td>
                    </tr>
                    <tr>
                        <td width="75">Coco:</td>
                        <td colspan="2">{{row.coco_str}}</td>
                    </tr>
                    <tr><th colspan="3">Places</th></tr>
                    <tr>
                        <td>Places:</td>
                        <td colspan="2">{{row.places_str}}</td>
                    </tr>
                    <tr>
                        <td>Places attributions:</td>
                        <td colspan="2">{{row.places_attributes_str}}</td>
                    </tr>
                    <tr><th colspan="3">Actions</th></tr>
                    <tr>
                        <td>Actions:</td>
                        <td colspan="2">{{row.actions}}</td>
                    </tr>
                    <!--{% for imagenet, coco in row.objects %}-->
                    <!--{% endfor %}-->
                    <!--<tr><th colspan="2">Locations</th></tr>-->
                    <!--{% for places, plattributes in row.locations %}-->
                    <!--<tr>-->
                        <!--<td>{{places}}</td>-->
                        <!--<td>{{plattributes}}</td>-->
                    <!--</tr>-->
                    <!--{% endfor %}-->
                    <!--<tr>-->
                        <!--<th colspan="2">-->
                            <!--Actions-->
                        <!--</th>-->
                    <!--</tr>-->
                    <!--{% for action in row.actions %}-->
                    <!--<tr>-->
                        <!--<td colspan="2">-->
                            <!--{{action}}-->
                        <!--</td>-->
                    <!--</tr>-->
                    <!--{% endfor %}-->
                </table>
            </div>
        </div>
      </div>

    </div>
  </div>
{% endfor %}
</div>

</body>
</html>
